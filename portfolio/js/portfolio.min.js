document.addEventListener("readystatechange",t=>{"interactive"===t.target.readyState&&fetchCases()});const data=[{id:1,photos:["/case1_1.jpg","/case1_2.jpg","/case1_3.jpg"],type:["Редукционная маммопластика","Липоабдоминопластика","Липосакция спины"]},{id:2,photos:["/case2_1.jpg","/case2_2.jpg"],type:["Липосакция спины","Липоабдоминопластика","Мастопексия с эндопротезированием"]},{id:3,photos:["/case3_1.jpg"],type:["Эндопротезирование молочных желез"]},{id:4,photos:["/case4_1.jpg","/case4_2.jpg"],type:["Эндопротезирование молочных желез"]},{id:5,photos:["/case5_1.jpg"],type:["Мастопексия с эндопротезированием"],description:["Эндопротезирование молочных желез с периареолярной мастопексией"]},{id:6,photos:["/case6_1.jpg","/case6_2.jpg","/case6_3.jpg"],type:["Эндопротезирование молочных желез"]},{id:7,photos:["/case7_1.jpg"],type:["Эндопротезирование молочных желез"]},{id:8,photos:["/case8_1.jpg","/case8_2.jpg","/case8_3.jpg"],type:["Эндопротезирование молочных желез"]},{id:9,photos:["/case9_1.jpg","/case9_2.jpg","/case9_3.jpg"],type:["Мастопексия"]}];async function fetchCases(){const t=document.querySelector(".portfolio__loader");document.querySelector(".selected-case");function e(e,o){document.querySelector(".portfolio").innerHTML=e.map(t=>{const e=t.type.map(t=>t).join(", ");return`<a href='/portfolio/case/?id:${t.id}' title="Перейти ко всем фото">\n\t\t\t\t<div class="portfolio__item" >\n\t\t\t\t\t<picture>\n\t\t\t\t\t\t<source srcset="/img/portfolio${t.photos[0]} 1x, /img/portfolio/2x${t.photos[0]} 2x">\n\t\t\t\t\t\t<img class="portfolio__item-photo" srcset="/img/portfolio${t.photos[0]} 1x, /img/portfolio/2x${t.photos[0]} 2x" alt="Фото до/после операции"/>\n\t\t\t\t\t</picture>\n\t\t\t\t\t<div class='portfolio__item-label'>${e}</div>\n\t\t\t\t</div>\n\t\t\t</a>`}).reverse().join(""),t.remove()}const o=()=>{let t=[];for(let e=0;e<data.length;e++)for(let o=0;o<data[e].type.length;o++)t.push(data[e].type[o]);return t};if(data&&data.length>0){window.innerWidth<460&&(document.querySelector(".selected-case").style.display="block"),document.querySelector(".case").innerHTML=[...new Set(o())].map(t=>`<div class="case__item">${t}</div>`).join("");const t=document.querySelector(".select-case");e(data),document.addEventListener("click",(function(o){if(o.target.classList.contains("case__item")){o.target.classList.contains("case__item-active")?(e(data),window.innerWidth<460&&(document.querySelector("#selected-mobile").innerText="Все",t.classList.toggle("active"))):(e((t=>{let e=[];for(let o=0;o<data.length;o++)for(let s=0;s<data[o].type.length;s++)data[o].type[s]==t&&e.push(data[o]);return e})(o.target.innerText),o.target.innerText),window.innerWidth<460&&(document.querySelector("#selected-mobile").innerText=o.target.innerText,t.classList.remove("active"))),o.target.classList.toggle("case__item-active");for(let t of document.querySelectorAll(".case__item"))t!==o.target&&t.classList.remove("case__item-active")}document.querySelector(".selected-case").contains(o.target)&&t.classList.toggle("active")}))}else t.innerHTML="Пока что нет кейсов"}